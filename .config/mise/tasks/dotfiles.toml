[install]
description = "Install dotfiles"
run = [
  {task = "mise:tools:install"},
  {task = "print:done"}
]

[format]
description = "Format dotfiles"
dir = '{{cwd}}'
run = '''
#!/bin/sh -x
prettier --config .dotfiles/.prettierrc.yaml --write .devcontainer .dotfiles .github
'''

["opencode:doctor"]
description = "Inspect OpenCode instance config and metadata"
dir = '{{cwd}}'
run = 'bun ~/.config/opencode/scripts/opencode-doctor.ts "$@"'

["print:done"]
description = "Print an animated DONE message"
hide = true
run = "echo DONE | figlet | lolcrab -a --speed 1 --duration 1 --gradient warm"
silent = true
